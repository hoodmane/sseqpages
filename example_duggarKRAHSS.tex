\documentclass{article}
\usepackage[landscape]{geometry}
\usepackage{sseqpages}
\begin{document}
\makeatletter
\tikzset{Zclass/.style={fill=none,draw,inner sep=0.6ex},2Zclass/.style={fill=none,rectangle,draw,inner sep=0.6ex}}
\begin{sseqdata}[
    name=KRAHSS,
    x range={-18}{17},
    y range={-10}{10},
    no axes,
    x label step=2,
    classes={circle,inner sep=0.3ex,fill=black},
    differentials=->,
    execute at begin node=$,execute at end node=$,
    degree={-1}{#1-1},
    scale=0.5,
    right clip padding=0.1cm,
    top clip padding=0.1cm,
    x axis extend end=0.25cm,
    y axis extend end=0.25cm,
    draw orphan edges
]
\def\sseq@xclip@axisgap{0.17cm}
\def\sseq@yclip@axisgap{0.17cm}

\draw[background,xshift=-0.5cm,yshift=-0.5cm,step=1cm,gray,very thin] (\xmin+0.1,\ymin+0.1) grid (\xmax+0.7,\ymax+0.7);
\pgfmathparse{\xmax+2}
\foreach \x in {0,4,...,\pgfmathresult} {
    \class[Zclass](\x,0)
    \foreach \z in {0,...,\pgfmathresult} {
        \class(\x+\z+1,\z+1)
        \structline(\x+\z,\z)(\x+\z+1,\z+1)
    }
}

\foreach \x in {4,12}{
    \foreach\z in {0,...,\xmax}{
        \d4(\x+\z,\z)
    }
    \replaceclass[2Zclass](\x,0)
}
%\show\pgfmathresult
\foreach\x in {-4,-8,...,-\pgfmathresult}{
    \class[Zclass](\x,0)
    \foreach \z in {0,-1,...,-\pgfmathresult}{
        \class(\x+\z-2,\z)
        \structline(\x+\z-2,\z)(\x+\z-3,\z-1)
    }
}

\foreach \x in {-6,-14}{
    \foreach\z in {-3,...,-\xmax}{
        \d4(\x+\z,\z)
    }
}

\end{sseqdata}
\printpage[name=KRAHSS,page=0]
\newpage
\printpage[name=KRAHSS,page=5]

\end{document} 